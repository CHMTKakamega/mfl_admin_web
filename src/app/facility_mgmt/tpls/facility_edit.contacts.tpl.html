<div class="col-sm-12 detail-content">
    <div class="col-xs-12 fade-content alert alert-danger alert-dismissible margin-t-10" ng-show="cont_error">
            <button type="button" class="close">
                <span ng-click="cont_error = !cont_error">&times;</span>
            </button>
            <span class="fs-18"><i class="fa fa-times-circle"></i> &nbsp; {{cont_error}}</span>
      </div>
    <div class="col-sm-12 content-card form-card margin-t-20" requires-permission="facilities.add_facilitycontact">
        <div class="col-sm-12">
            <h4 class="fw-600 fs-18"> Add Contact</h4>
        </div>
        <form ng-submit="add()">
            <div class="group col-sm-4">
            <select name="contact_type" ng-model="contact.contact_type" class="pad-t-15" required>
                <option value="">Select Contact Type</option>
                <option ng-repeat="cont in contact_types" ng-value="cont.id">{{cont.name}}</option>
            </select>
            <span class="highlight"></span>
            <span class="bar"></span>
            </div>
            <div class="group col-sm-5 margin-t-5 pad-l-40">
                <input type="text" name="contact" ng-model="contact.contact"  required />
                <span class="highlight"></span>
                <span class="bar"></span>
                <label class="margin-l-40">
                    Contact Details
                </label>
            </div>
            <div class="col-sm-2 margin-b-10 pull-right" style="padding: 0 25px;">
                <button type="submit" class="login-btn login-btn-primary margin-t-10 pull-right" tooltip="Add Contact">
                    <i class="fa fa-plus-circle"></i> Add
                </button>
            </div>
        </form>
    </div>
    <div ng-if="fac_contacts.length === 0" class="col-xs-12 alert alert-info">
        <i class="fa fa-info-circle"></i> No contact assigned to facility
    </div>
    <div ng-if="fac_contacts.length > 0"  class="col-xs-12 content-card margin-t-20">
        <div class="col-xs-12">
            <h4 class="fw-600 fs-18"> Current Contacts</h4>
            <table class="table content-card table-hover margin-t-20 margin-b-10">
            <thead>
                <tr>
                    <th class="col-xs-4"><span class="fs-16">Contact Type
                    </span></th>
                    <th class="col-xs-5"><span class="fs-16">Contact Details
                    </span></th>
                    <th></th>
                </tr>
            </thead>
            <tbody class="fs-14">
                <tr ng-repeat="child in fac_contacts">
                    <td class="col-xs-4 pad-t-15 fs-13">
                        <span ng-if="editable" >
                            <select name="contact_type" ng-model="child.contact_type" class="pad-t-15" required>
                                <option value="">Select Contact Type</option>
                                <option ng-repeat="cont in contact_types" ng-value="cont.id">{{cont.name}}</option>
                            </select>
                        </span>
                        <span ng-if="!editable" class="pad-t-15 fs-16 fw-500 group">
                            {{child.contact_type}}
                        </span>
                    </td>
                    <td class="pad-t-15 fs-16 fw-500 col-xs-5">
                        <span ng-hide="child.editing" ng-dblclick="editItem(child)">{{child.actual_contact}}</span>
                        <span ng-show="child.editing" class="fs-14 group">
                            <input type="text" ng-model="child.actual_contact" ng-blur="doneEditing(child)" autofocus />
                            <span class="highlight"></span>
                            <span class="bar"></span>
                        </span>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                    </td>
                    <td class="pad-t-10 text-right col-xs-2">
                    <span ng-if="child.delete_spinner">
                        <i class="fa fa-spin fa-circle-o-notch"></i>
                    </span>
                    <a class="login-btn login-btn-danger" popover-trigger="open"
                        popover-toggle popover-placement="left" popover-template="'common/tpls/del-pop.tpl.html'" tooltip="Remove Contact"
                        requires-permission="facilities.delete_facilitycontact">
                        &nbsp;Delete
                    </a>
                    </td>
                </tr>
                <tr ng-if="spinner">
                    <td colspan="3" class="text-center">
                        <i class="fa fa-spin fa-circle-o-notch fa-2x"></i>
                    </td>
                </tr>
            </tbody>
        </table>
        </div>
    </div>
    <!-- Buttons for creation of facility -->
    <a ui-sref="facilities.facility_edit.basic" ng-if="!create" class="login-btn login-btn-primary margin-t-20 margin-b-10">
        &nbsp;<i class="fa fa-angle-double-left"></i> Details
    </a>
    <a ui-sref="facilities.facility_edit.services" ng-if="!create"  class="login-btn login-btn-primary margin-t-20 margin-b-10 pull-right">
        &nbsp; Save & Continue <i class="fa fa-angle-double-right"></i>
    </a>
    <!-- End of facility creation buttons -->
    <a ui-sref="facilities.facility_create.basic({facility_id : new_facility})" ng-if="create" class="login-btn login-btn-primary margin-t-20 margin-b-10">
        &nbsp;<i class="fa fa-angle-double-left"></i> Details
    </a>
    <button ng-if="create"  class="login-btn login-btn-primary margin-t-20 margin-b-10 pull-right" ng-click="goToNext(3, 'services')">
        &nbsp; Services <i class="fa fa-angle-double-right"></i>
    </button>
</div>
